# NeonTunnel (ë„¤ì˜¨ í„°ë„) ğŸš‡ v2.1

**ë‚˜ë§Œì˜ ngrok, ë‚˜ë§Œì˜ í„°ë„ë§ ì„œë²„**  
ì™¸ë¶€ì—ì„œ ì ‘ì†í•  ìˆ˜ ì—†ëŠ” ë¡œì»¬ ì„œë²„(localhost)ë¥¼ ê³µì¸ IPë¥¼ ê°€ì§„ ì¤‘ê³„ ì„œë²„(Relay)ë¥¼ í†µí•´ ì „ ì„¸ê³„ ì–´ë””ì„œë‚˜ ì ‘ì†í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ í„°ë„ë§ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

---

## âœ¨ íŠ¹ì§• (Key Features)

### 1. ğŸŒ HTTP/HTTPS ì„œë¸Œë„ë©”ì¸ ì§€ì›
- `http://myapp.vozi.duckdns.org` ì²˜ëŸ¼ ê¹”ë”í•œ ì£¼ì†Œë¡œ ë¡œì»¬ ì„œë²„ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë³µì¡í•œ í¬íŠ¸ ë²ˆí˜¸ ëŒ€ì‹  ê¸°ì–µí•˜ê¸° ì‰¬ìš´ ì´ë¦„ì„ ì‚¬ìš©í•˜ì„¸ìš”.

### 2. ğŸ”Œ TCP í¬íŠ¸ í¬ì›Œë”©
- ì›¹ ì„œë²„ë¿ë§Œ ì•„ë‹ˆë¼ SSH(22), DB(3306), RDP(3389) ë“± **ëª¨ë“  TCP íŠ¸ë˜í”½**ì„ í„°ë„ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì˜ˆ: `neon-tunnel -p 22 -r 33344` â†’ ì™¸ë¶€ì—ì„œ `ssh user@relay-server -p 33344`ë¡œ ì ‘ì† ê°€ëŠ¥.

### 3. ğŸ–¥ï¸ ì›¹ ëŒ€ì‹œë³´ë“œ (Web Dashboard)
- `http://relay-server:3000/admin` ì—ì„œ í˜„ì¬ ì—°ê²°ëœ ëª¨ë“  í„°ë„ ëª©ë¡ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³  ì œì–´(Kill)í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 4. ğŸ”’ ë³´ì•ˆ ë° ì•ˆì •ì„±
- **Greenlock** ê¸°ë°˜ì˜ ìë™ SSL ì¸ì¦ì„œ ë°œê¸‰ ì§€ì› (HTTPS). (í˜„ì¬ ì•ˆì •ì„±ì„ ìœ„í•´ HTTP ëª¨ë“œ ê¶Œì¥)
- **PM2** ì—°ë™ìœ¼ë¡œ ì„œë²„ ì¬ë¶€íŒ… ì‹œ ìë™ ì‹¤í–‰ ë° ë¬´ì¤‘ë‹¨ ìš´ì˜ ê°€ëŠ¥.

---

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰ (Installation)

### 1ï¸âƒ£ Relay Server (ì¤‘ê³„ ì„œë²„) êµ¬ì¶•
*AWS, Oracle Cloud, VPS ë“± **ê³µì¸ IP**ê°€ ìˆëŠ” ì„œë²„ì— ì„¤ì¹˜í•˜ì„¸ìš”.*

```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/blue-code/NeonTunnel.git
cd NeonTunnel/relay-server

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 3. í¬íŠ¸ ë°©í™”ë²½ í•´ì œ (Linux)
# 80(HTTP), 3000(Admin), 33000-39000(TCP Tunnel)
sudo firewall-cmd --permanent --add-port=80/tcp
sudo firewall-cmd --permanent --add-port=3000/tcp
sudo firewall-cmd --permanent --add-port=33000-39000/tcp
sudo firewall-cmd --reload

# 4. (ì¤‘ìš”) Node.js ê¶Œí•œ ë¶€ì—¬ (80ë²ˆ í¬íŠ¸ ì‚¬ìš© ì‹œ)
sudo setcap cap_net_bind_service=+ep $(readlink -f $(which node))

# 5. ì„œë²„ ì‹¤í–‰ (PM2 ê¶Œì¥)
sudo npm install -g pm2
pm2 start index.js --name "relay"
pm2 save
pm2 startup
```

### 2ï¸âƒ£ Client CLI (ë¡œì»¬ í„°ë„ ìƒì„±)
*ì™¸ë¶€ì— ê³µê°œí•˜ê³  ì‹¶ì€ ë¡œì»¬ ì„œë²„ê°€ ìˆëŠ” PC(Mac/Windows)ì—ì„œ ì‹¤í–‰í•˜ì„¸ìš”.*

```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡  ë° ì„¤ì¹˜
git clone https://github.com/blue-code/NeonTunnel.git
cd NeonTunnel/client-cli
npm install
npm link  # ì „ì—­ ëª…ë ¹ì–´ ë“±ë¡ (ì„ íƒ)

# 2. ì‚¬ìš©ë²• (ê¸°ë³¸)
# ë¡œì»¬ 8080 í¬íŠ¸ë¥¼ 'myapp' ì„œë¸Œë„ë©”ì¸ìœ¼ë¡œ ì—°ê²°
neon-tunnel -p 8080 --subdomain myapp --server http://ë‚´-ì„œë²„-ì£¼ì†Œ:3000

# 3. ì‚¬ìš©ë²• (TCP í¬íŠ¸ ì§€ì •)
# ë¡œì»¬ 22 í¬íŠ¸ë¥¼ ê³µì¸ 33344 í¬íŠ¸ë¡œ ì—°ê²°
neon-tunnel -p 22 -r 33344 --server http://ë‚´-ì„œë²„-ì£¼ì†Œ:3000

# 4. ì‚¬ìš©ë²• (ë¡œì»¬ ì£¼ì†Œ ë°”ì¸ë”© - Mac/Docker ë“±)
# localhost ëŒ€ì‹  0.0.0.0 ìœ¼ë¡œ ì—°ê²°í•´ì•¼ í•  ë•Œ
neon-tunnel -p 8000 -l 0.0.0.0 --subdomain dash --server http://ë‚´-ì„œë²„-ì£¼ì†Œ:3000
```

---

## ğŸ“ ëª…ë ¹ì–´ ì˜µì…˜ (Options)

| ì˜µì…˜ | ë‹¨ì¶• | ì„¤ëª… | ì˜ˆì‹œ |
| :--- | :--- | :--- | :--- |
| `--port` | `-p` | ë¡œì»¬ ì„œë²„ì˜ í¬íŠ¸ ë²ˆí˜¸ (í•„ìˆ˜) | `-p 3000` |
| `--server` | `-s` | Relay ì„œë²„ ì£¼ì†Œ (í•„ìˆ˜) | `-s http://vozi.duckdns.org:3000` |
| `--subdomain` | `-d` | HTTP í„°ë„ìš© ì„œë¸Œë„ë©”ì¸ ì´ë¦„ | `-d myapp` |
| `--remote-port` | `-r` | TCP í„°ë„ìš© ê³µì¸ í¬íŠ¸ ë²ˆí˜¸ (33000~39000) | `-r 33344` |
| `--local-host` | `-l` | ë¡œì»¬ ë°”ì¸ë”© ì£¼ì†Œ (ê¸°ë³¸: 127.0.0.1) | `-l 0.0.0.0` |

---

## ğŸ ë¬¸ì œ í•´ê²° (Troubleshooting)

- **Q. ì ‘ì†ì´ ì•ˆ ë¼ìš”!**
    - ì„œë²„ ë°©í™”ë²½(AWS Security Group, Oracle Ingress Rule)ì—ì„œ í•´ë‹¹ í¬íŠ¸(80, 3000, 33xxx)ê°€ ì—´ë ¤ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
    - DuckDNS ë„ë©”ì¸ì´ ì„œë²„ IPì™€ ì •í™•íˆ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. (`ping myapp.vozi.duckdns.org`)

- **Q. Macì—ì„œ ì—°ê²°ì´ ì•ˆ ë¼ìš”!**
    - ë¡œì»¬ ì„œë²„ê°€ IPv6(`::1`)ë¡œ ë– ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `-l 127.0.0.1` ë˜ëŠ” `-l 0.0.0.0` ì˜µì…˜ì„ ì¶”ê°€í•´ë³´ì„¸ìš”.

---

## ğŸ“œ ë¼ì´ì„ ìŠ¤
MIT License - **Created for BH ğŸ’• by Tiffany**
